<!DOCTYPE html>
<html lang="fr">
  <meta charset="UTF-8">
  <title>Chapitre 8 - Hooks React</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      background: #fff;
      color: #333;
    }
    header {
      background-color: #4a54f1;
      padding: 2rem;
      text-align: center;
      color: white;
      box-shadow: 0 4px 15px rgba(74, 84, 241, 0.4);
    }
    header h1 {
      margin: 0;
      font-size: 2.5rem;
    }
    header p {
      margin: 0;
      font-size: 1.2rem;
      color: #dcdcdccc;
    }
    main {
      max-width: 800px;
      margin: 2rem auto;
      padding: 2rem;
      background: #f0f4ff;
      border-radius: 12px;
      box-shadow: 0 8px 20px rgba(74, 84, 241, 0.15);
    }
    h1, h2 {
      color: #2c3e95;
    }
    pre {
      background: #e6eaff;
      padding: 1rem;
      border-radius: 5px;
      overflow-x: auto;
    }
    .btn {
      display: inline-block;
      margin-top: 2rem;
      padding: 0.8rem 1.5rem;
      background-color: #4a54f1;
      color: white;
      text-decoration: none;
      border-radius: 8px;
    }
    footer {
      text-align: center;
      padding: 1.8rem;
      font-size: 1rem;
      background-color: #f7f9ff;
      color: #444;
    }
    a {
      color: #4a54f1;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
  </style>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3429663628581948" crossorigin="anonymous"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3429663628581948" crossorigin="anonymous"></script></head>
<body>
  <header>
    <h1>Chapitre 8 : Hooks React ğŸª</h1>
    <p>MaÃ®trise les hooks comme useState et useEffect pour gÃ©rer lâ€™Ã©tat et les effets dans les composants fonctionnels.</p>
  </header>

  <main>
    <h2>ğŸ”¹ Qu'est-ce qu'un hook ?</h2>
    <p>Les hooks sont des fonctions spÃ©ciales de React qui permettent dâ€™ajouter des fonctionnalitÃ©s comme la gestion dâ€™Ã©tat (<code>useState</code>) ou les effets secondaires (<code>useEffect</code>) dans les composants fonctionnels, sans utiliser de classes.</p>
    <p><strong>CaractÃ©ristiques principales :</strong></p>
    <ul>
      <li><strong>useState</strong>: GÃ¨re lâ€™Ã©tat local du composant.</li>
      <li><strong>useEffect</strong>: ExÃ©cute des effets secondaires (ex. appels API, timers).</li>
      <li><strong>RÃ¨gles</strong>: Appelle les hooks au niveau supÃ©rieur, pas dans les boucles ou conditions.</li>
    </ul>

    <h2>ğŸ”¹ Pourquoi utiliser les hooks ?</h2>
    <p>Les hooks simplifient le code en remplaÃ§ant les classes complexes par des fonctions plus lisibles. Ils permettent de rÃ©utiliser la logique dâ€™Ã©tat et de gÃ©rer les cycles de vie dans les composants fonctionnels.</p>
    <p><strong>Exemple</strong>: Mettre Ã  jour le titre de la page en fonction dâ€™un compteur ou charger des donnÃ©es dâ€™une API.</p>

    <h2>ğŸ”¹ Exemple 1 : Mise Ã  jour du titre avec useState et useEffect</h2>
    <p>Met Ã  jour le titre du navigateur :</p>
    <pre><code>
// src/App.js
import React, { useState, useEffect } from 'react';

function Counter() {
  const [count, setCount] = useState(0);

  useEffect(() => {
    document.title = `Compte : ${count}`;
  }, [count]);

  return (
    <div>
      <p>Compte : {count}</p>
      <button onClick={() => setCount(count + 1)}>IncrÃ©menter</button>
    </div>
  );
}

export default Counter;
    </code></pre>
    <p><strong>Explication</strong>:</p>
    <ul>
      <li><code>useState</code>: GÃ¨re lâ€™Ã©tat <code>count</code>.</li>
      <li><code>useEffect</code>: Met Ã  jour le titre Ã  chaque changement de <code>count</code>.</li>
      <li><code>[count]</code>: DÃ©pendance pour exÃ©cuter lâ€™effet uniquement si <code>count</code> change.</li>
    </ul>
    <p><strong>RÃ©sultat</strong>: Affiche un compteur et met Ã  jour le titre du navigateur Ã  <code>http://localhost:3000</code>.</p>

    <h2>ğŸ”¹ Exemple 2 : Gestion dâ€™un objet avec useState</h2>
    <p>GÃ¨re un Ã©tat complexe :</p>
    <pre><code>
// src/App.js
import React, { useState } from 'react';

function Profile() {
  const [user, setUser] = useState({ name: '', age: 0 });

  const updateUser = () => {
    setUser({ ...user, name: 'Alice', age: 25 });
  };

  return (
    <div>
      <p>Nom : {user.name}, Ã‚ge : {user.age}</p>
      <button onClick={updateUser}>Mettre Ã  jour</button>
    </div>
  );
}

export default Profile;
    </code></pre>
    <p><strong>RÃ©sultat</strong>: Affiche les donnÃ©es utilisateur, mises Ã  jour au clic.</p>

    <h2>ğŸ”¹ Exemple 3 : Chargement de donnÃ©es avec useEffect</h2>
    <p>Charge des donnÃ©es avec nettoyage :</p>
    <pre><code>
// src/App.js
import React, { useState, useEffect } from 'react';

function DataFetcher() {
  const [data, setData] = useState(null);

  useEffect(() => {
    let isMounted = true;
    fetch('https://jsonplaceholder.typicode.com/posts/1')
      .then((res) => res.json())
      .then((data) => {
        if (isMounted) setData(data);
      });
    return () => {
      isMounted = false;
    };
  }, []);

  return <p>{data ? data.title : 'Chargement...'}</p>;
}

export default DataFetcher;
    </code></pre>
    <p><strong>RÃ©sultat</strong>: Affiche le titre du post aprÃ¨s chargement.</p>

    <h2>ğŸ”¹ Exemple 4 : Plusieurs useState</h2>
    <p>GÃ¨re plusieurs Ã©tats indÃ©pendants :</p>
    <pre><code>
// src/App.js
import React, { useState } from 'react';

function Form() {
  const [name, setName] = useState('');
  const [email, setEmail] = useState('');

  return (
    <div>
      <input
        type="text"
        value={name}
        onChange={(e) => setName(e.target.value)}
        placeholder="Nom"
      />
      <input
        type="email"
        value={email}
        onChange={(e) => setEmail(e.target.value)}
        placeholder="Email"
      />
      <p>Nom : {name}, Email : {email}</p>
    </div>
  );
}

export default Form;
    </code></pre>
    <p><strong>RÃ©sultat</strong>: Affiche les saisies en temps rÃ©el.</p>

    <h2>ğŸ”¹ Exemple 5 : Hook personnalisÃ©</h2>
    <p>CrÃ©e un hook pour la taille de la fenÃªtre :</p>
    <pre><code>
// src/App.js
import React, { useState, useEffect } from 'react';

function useWindowSize() {
  const [size, setSize] = useState({ width: window.innerWidth, height: window.innerHeight });

  useEffect(() => {
    const handleResize = () => {
      setSize({ width: window.innerWidth, height: window.innerHeight });
    };
    window.addEventListener('resize', handleResize);
    return () => window.removeEventListener('resize', handleResize);
  }, []);

  return size;
}

function WindowTracker() {
  const { width, height } = useWindowSize();
  return <p>Largeur : {width}px, Hauteur : {height}px</p>;
}

export default WindowTracker;
    </code></pre>
    <p><strong>RÃ©sultat</strong>: Affiche la taille de la fenÃªtre, mise Ã  jour au redimensionnement.</p>

    <h2>ğŸ”¹ Erreurs courantes Ã  Ã©viter</h2>
    <ul>
      <li><strong>Tableau de dÃ©pendances incorrect</strong>: Omettre ou mal configurer <code>[]</code> dans <code>useEffect</code> provoque des exÃ©cutions inutiles.</li>
      <li><strong>Appels conditionnels</strong>: Ne place pas les hooks dans des <code>if</code> ou boucles.</li>
      <li><strong>Mauvaise mise Ã  jour dâ€™objet</strong>: Utilise <code>{ ...state, key: value }</code> pour prÃ©server les propriÃ©tÃ©s.</li>
    </ul>

    <h2>ğŸ“ Exercice</h2>
    <p>1. CrÃ©e un projet React avec <code>npx create-react-app mon-app</code>.<br>
    2. CrÃ©e un composant <code>Search</code> avec <code>useState</code> pour un champ de recherche.<br>
    3. Utilise <code>useEffect</code> pour charger des rÃ©sultats filtrÃ©s depuis <code>https://jsonplaceholder.typicode.com/posts</code>.<br>
    4. CrÃ©e un fichier texte expliquant en 3 phrases ce quâ€™est un hook personnalisÃ©.</p>

    <a href="react7.html" class="btn">â¬…ï¸ Chapitre 7 : Cycle de vie des composants</a>
    <a href="react9.html" class="btn">â¡ï¸ Chapitre 9 : Routing avec React Router</a>
  </main>

  <footer>
    <p><a href="../index .html">â† Retour au menu React</a></p>
  </footer>
<script src="/adsense.js"></script>
</body>
</html>



