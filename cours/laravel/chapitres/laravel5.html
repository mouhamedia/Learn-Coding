<!DOCTYPE html>
<html lang="fr">
  <meta charset="UTF-8">
  <title>Chapitre 5 - Les contr√¥leurs</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      background: #f4f4f4;
      color: #333;
    }
    header {
      background-color: #003049;
      color: white;
      padding: 2rem;
      text-align: center;
    }
    main {
      max-width: 800px;
      margin: 2rem auto;
      padding: 2rem;
      background: white;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    h1, h2 {
      color: #003049;
    }
    pre {
      background: #eee;
      padding: 1rem;
      border-radius: 5px;
      overflow-x: auto;
    }
    .btn {
      display: inline-block;
      margin-top: 2rem;
      padding: 0.8rem 1.5rem;
      background-color: #003049;
      color: white;
      text-decoration: none;
      border-radius: 8px;
    }
    footer {
      text-align: center;
      padding: 2rem;
      font-size: 0.9rem;
    }
    a {
      color: #003049;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
  </style>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3429663628581948" crossorigin="anonymous"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3429663628581948" crossorigin="anonymous"></script></head>
<body>
  <header>
    <h1>Chapitre 5 : Les contr√¥leurs üéÆ</h1>
    <p>Apprends √† organiser la logique de ton application avec des contr√¥leurs dans Laravel.</p>
  </header>

  <main>
    <h2>üîπ Qu‚Äôest-ce qu‚Äôun contr√¥leur ?</h2>
    <p>Dans le mod√®le MVC (Mod√®le-Vue-Contr√¥leur), les contr√¥leurs g√®rent la logique m√©tier. Ils re√ßoivent les requ√™tes des routes, traitent les donn√©es, et renvoient une r√©ponse (souvent une vue). Les contr√¥leurs sont stock√©s dans <code>app/Http/Controllers/</code>.</p>
    <p><strong>R√¥le</strong> :</p>
    <ul>
      <li>Valider les entr√©es utilisateur.</li>
      <li>Interagir avec les mod√®les (base de donn√©es).</li>
      <li>Pr√©parer les donn√©es pour les vues.</li>
    </ul>
    <p><strong>Exemple</strong> : Un contr√¥leur peut r√©cup√©rer une liste d‚Äôarticles depuis la base de donn√©es et l‚Äôenvoyer √† une vue pour affichage.</p>

    <h2>üîπ Cr√©er un contr√¥leur</h2>
    <p>Utilise Artisan pour g√©n√©rer un contr√¥leur :</p>
    <pre><code>
php artisan make:controller ArticleController
    </code></pre>
    <p>Cela cr√©e <code>app/Http/Controllers/ArticleController.php</code> :</p>
    <pre><code>
namespace App\Http\Controllers;

use Illuminate\Http\Request;

class ArticleController extends Controller
{
    //
}
    </code></pre>
    <p>Ajoute une m√©thode pour afficher un message :</p>
    <pre><code>
public function index()
{
    return 'Liste des articles';
}
    </code></pre>
    <p>Lie la route dans <code>routes/web.php</code> :</p>
    <pre><code>
use App\Http\Controllers\ArticleController;

Route::get('/articles', [ArticleController::class, 'index']);
    </code></pre>
    <p><strong>R√©sultat</strong> : Une requ√™te √† <code>/articles</code> affiche "Liste des articles".</p>

    <h2>üîπ Contr√¥leurs avec vues</h2>
    <p>Les contr√¥leurs renvoient souvent des vues avec des donn√©es. Cr√©e <code>resources/views/articles/index.blade.php</code> :</p>
    <pre><code>
<h1>Articles</h1>
<ul>
    @foreach($articles as $article)
        <li>{{ $article }}</li>
    @endforeach
</ul>
    </code></pre>
    <p>Modifie le contr√¥leur :</p>
    <pre><code>
public function index()
{
    $articles = ['Article 1', 'Article 2', 'Article 3'];
    return view('articles.index', ['articles' => $articles]);
}
    </code></pre>
    <p><strong>R√©sultat</strong> : <code>/articles</code> affiche une liste √† puces des articles.</p>

    <h2>üîπ Contr√¥leurs avec param√®tres</h2>
    <p>Les contr√¥leurs peuvent recevoir des param√®tres depuis l‚ÄôURL.</p>
    <p><strong>Exemple</strong> : Afficher un article sp√©cifique :</p>
    <pre><code>
public function show($id)
{
    return view('articles.show', ['id' => $id]);
}
    </code></pre>
    <p>Cr√©e <code>resources/views/articles/show.blade.php</code> :</p>
    <pre><code>
<h1>Article #{{ $id }}</h1>
<p>Ceci est l‚Äôarticle num√©ro {{ $id }}.</p>
    </code></pre>
    <p>Ajoute la route :</p>
    <pre><code>
Route::get('/article/{id}', [ArticleController::class, 'show']);
    </code></pre>
    <p><strong>R√©sultat</strong> : <code>/article/42</code> affiche "Article #42".</p>
    <p><strong>Exemple avec contrainte</strong> :</p>
    <pre><code>
Route::get('/article/{id}', [ArticleController::class, 'show'])->where('id', '[0-9]+');
    </code></pre>
    <p><strong>R√©sultat</strong> : Seuls les ID num√©riques sont accept√©s.</p>

    <h2>üîπ Erreurs courantes √† √©viter</h2>
    <ul>
      <li><strong>Importation manquante</strong> : Ajoute <code>use App\Http\Controllers\ArticleController;</code> dans <code>web.php</code>.</li>
      <li><strong>M√©thode introuvable</strong> : V√©rifie le nom de la m√©thode dans la route (ex. : <code>index</code>, pas <code>Index</code>).</li>
      <li><strong>Vue manquante</strong> : Assure-toi que la vue existe dans <code>resources/views/</code>.</li>
      <li><strong>Param√®tre non pass√©</strong> : Passe toutes les variables n√©cessaires √† la vue.</li>
    </ul>

    <h2>üìù Exercice</h2>
    <p>1. Cr√©e un contr√¥leur <code>ProduitController</code> avec Artisan.<br>
    2. Ajoute une m√©thode <code>index</code> qui passe une liste de produits (ex. : <code>['Livre', 'Stylo']</code>) √† une vue <code>produits/index.blade.php</code>.<br>
    3. Cr√©e une m√©thode <code>show</code> qui accepte un param√®tre <code>id</code> et affiche une vue <code>produits/show.blade.php</code> avec l‚ÄôID.<br>
    4. D√©finis les routes correspondantes dans <code>web.php</code> et restreins <code>id</code> aux chiffres.<br>
    5. Teste <code>/produits</code> et <code>/produit/123</code> dans ton navigateur.<br>
    6. (Bonus) Ajoute une m√©thode <code>create</code> qui affiche un formulaire vide dans une vue <code>produits/create.blade.php</code>.</p>

    <a href="laravel6.html" class="btn">‚û°Ô∏è Chapitre 6 : Mod√®les et base de donn√©es (Eloquent)</a>
  </main>

  <footer>
    <p><a href="../index.html">‚Üê Retour au menu Laravel</a></p>
  </footer>
<script src="/adsense.js"></script>
</body>
</html>



