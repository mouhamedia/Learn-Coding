<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Chapitre 3 - Les routes</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      background: #f4f4f4;
      color: #333;
    }
    header {
      background-color: #003049;
      color: white;
      padding: 2rem;
      text-align: center;
    }
    main {
      max-width: 800px;
      margin: 2rem auto;
      padding: 2rem;
      background: white;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    h1, h2 {
      color: #003049;
    }
    pre {
      background: #eee;
      padding: 1rem;
      border-radius: 5px;
      overflow-x: auto;
    }
    .btn {
      display: inline-block;
      margin-top: 2rem;
      padding: 0.8rem 1.5rem;
      background-color: #003049;
      color: white;
      text-decoration: none;
      border-radius: 8px;
    }
    footer {
      text-align: center;
      padding: 2rem;
      font-size: 0.9rem;
    }
    a {
      color: #003049;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <header>
    <h1>Chapitre 3 : Les routes ğŸ›¤ï¸</h1>
    <p>Apprends Ã  dÃ©finir des routes pour gÃ©rer les requÃªtes HTTP et diriger les utilisateurs vers les bonnes pages.</p>
  </header>

  <main>
    <h2>ğŸ”¹ Quâ€™est-ce quâ€™une route ?</h2>
    <p>Dans Laravel, une route associe une URL (comme <code>/accueil</code>) Ã  une action, comme afficher une page ou exÃ©cuter une fonction. Les routes sont dÃ©finies dans <code>routes/web.php</code> pour les applications web ou <code>routes/api.php</code> pour les API.</p>
    <p><strong>Types de requÃªtes HTTP</strong> :</p>
    <ul>
      <li><code>GET</code> : RÃ©cupÃ©rer des donnÃ©es (ex. : afficher une page).</li>
      <li><code>POST</code> : Envoyer des donnÃ©es (ex. : soumettre un formulaire).</li>
      <li><code>PUT/PATCH</code> : Mettre Ã  jour des donnÃ©es.</li>
      <li><code>DELETE</code> : Supprimer des donnÃ©es.</li>
    </ul>
    <p><strong>Exemple</strong> : Une route GET pour la page dâ€™accueil affiche un message simple.</p>

    <h2>ğŸ”¹ DÃ©finir une route simple</h2>
    <p>Les routes les plus simples utilisent une fonction anonyme (closure) pour retourner une rÃ©ponse. Modifie <code>routes/web.php</code> :</p>
    <pre><code>
use Illuminate\Support\Facades\Route;

Route::get('/accueil', function () {
    return 'Bienvenue sur la page dâ€™accueil !';
});
    </code></pre>
    <p><strong>Explications</strong> :</p>
    <ul>
      <li><code>Route::get</code> : DÃ©finit une route pour les requÃªtes GET.</li>
      <li><code>'/accueil'</code> : Lâ€™URL accessible (ex. : <code>http://localhost:8000/accueil</code>).</li>
      <li><code>return</code> : La rÃ©ponse envoyÃ©e au navigateur (ici, du texte brut).</li>
    </ul>
    <p><strong>RÃ©sultat</strong> : AccÃ¨de Ã  <code>/accueil</code> dans ton navigateur pour voir "Bienvenue sur la page dâ€™accueil !".</p>

    <h2>ğŸ”¹ Routes avec paramÃ¨tres</h2>
    <p>Les routes peuvent inclure des paramÃ¨tres dynamiques, comme un ID ou un nom, pour personnaliser la rÃ©ponse.</p>
    <p><strong>Exemple 1</strong> : Route avec un paramÃ¨tre obligatoire :</p>
    <pre><code>
Route::get('/utilisateur/{nom}', function ($nom) {
    return "Bonjour, $nom !";
});
    </code></pre>
    <p><strong>RÃ©sultat</strong> : Une requÃªte Ã  <code>/utilisateur/Alice</code> affiche "Bonjour, Alice !".</p>
    <p><strong>Exemple 2</strong> : Route avec un paramÃ¨tre optionnel :</p>
    <pre><code>
Route::get('/salut/{nom?}', function ($nom = 'Visiteur') {
    return "Salut, $nom !";
});
    </code></pre>
    <p><strong>RÃ©sultat</strong> :</p>
    <ul>
      <li><code>/salut</code> affiche "Salut, Visiteur !".</li>
      <li><code>/salut/Bob</code> affiche "Salut, Bob !".</li>
    </ul>
    <p><strong>Exemple 3</strong> : Route avec plusieurs paramÃ¨tres :</p>
    <pre><code>
Route::get('/article/{id}/{titre}', function ($id, $titre) {
    return "Article #$id : $titre";
});
    </code></pre>
    <p><strong>RÃ©sultat</strong> : <code>/article/1/Premier-Article</code> affiche "Article #1 : Premier-Article".</p>

    <h2>ğŸ”¹ Routes avec contraintes</h2>
    <p>Tu peux restreindre les paramÃ¨tres avec des expressions rÃ©guliÃ¨res pour Ã©viter des valeurs invalides.</p>
    <pre><code>
Route::get('/article/{id}', function ($id) {
    return "Article #$id";
})->where('id', '[0-9]+');
    </code></pre>
    <p><strong>Explications</strong> :</p>
    <ul>
      <li><code>where('id', '[0-9]+')</code> : Limite <code>id</code> Ã  des chiffres.</li>
      <li>Une requÃªte Ã  <code>/article/abc</code> renverra une erreur 404.</li>
    </ul>
    <p><strong>RÃ©sultat</strong> : <code>/article/123</code> fonctionne, mais <code>/article/texte</code> Ã©choue.</p>

    <h2>ğŸ”¹ Erreurs courantes Ã  Ã©viter</h2>
    <ul>
      <li><strong>Route non trouvÃ©e (404)</strong> : VÃ©rifie lâ€™URL et assure-toi que <code>php artisan serve</code> est en cours.</li>
      <li><strong>Oubli dâ€™importer Route</strong> : Ajoute <code>use Illuminate\Support\Facades\Route;</code> en haut de <code>web.php</code>.</li>
      <li><strong>ParamÃ¨tres non validÃ©s</strong> : Utilise <code>where</code> pour limiter les valeurs acceptÃ©es.</li>
      <li><strong>Conflit de routes</strong> : Place les routes spÃ©cifiques (ex. : <code>/article/1</code>) avant les routes gÃ©nÃ©riques (ex. : <code>/article/{id}</code>).</li>
    </ul>

    <h2>ğŸ“ Exercice</h2>
    <p>1. CrÃ©e une route GET pour <code>/</code> qui affiche "Page dâ€™accueil".<br>
    2. CrÃ©e une route GET pour <code>/profil/{id}</code> qui affiche "Profil utilisateur ID : [id]". Restreins <code>id</code> aux chiffres.<br>
    3. CrÃ©e une route GET pour <code>/bienvenue/{nom?}</code> avec un nom optionnel (par dÃ©faut : "InvitÃ©").<br>
    4. Teste chaque route dans ton navigateur (ex. : <code>/profil/42</code>, <code>/bienvenue/Alice</code>, <code>/bienvenue</code>).<br>
    5. (Bonus) CrÃ©e une route POST pour <code>/contact</code> qui retourne "Message envoyÃ©" (teste avec un outil comme Postman).</p>

    <a href="laravel4.html" class="btn">â¡ï¸ Chapitre 4 : Les vues avec Blade</a>
  </main>

  <footer>
    <p><a href="../index.html">â† Retour au menu Laravel</a></p>
  </footer>
</body>
</html>