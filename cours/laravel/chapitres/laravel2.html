<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Chapitre 2 - Installation de Laravel</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      background: #f4f4f4;
      color: #333;
    }
    header {
      background-color: #003049;
      color: white;
      padding: 2rem;
      text-align: center;
    }
    main {
      max-width: 800px;
      margin: 2rem auto;
      padding: 2rem;
      background: white;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    h1, h2 {
      color: #003049;
    }
    pre {
      background: #eee;
      padding: 1rem;
      border-radius: 5px;
      overflow-x: auto;
    }
    .btn {
      display: inline-block;
      margin-top: 2rem;
      padding: 0.8rem 1.5rem;
      background-color: #003049;
      color: white;
      text-decoration: none;
      border-radius: 8px;
    }
    footer {
      text-align: center;
      padding: 2rem;
      font-size: 0.9rem;
    }
    a {
      color: #003049;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <header>
    <h1>Chapitre 2 : Installation de Laravel üõ†Ô∏è</h1>
    <p>Configure ton environnement pour d√©marrer un projet Laravel et lancer ton premier serveur local.</p>
  </header>

  <main>
    <h2>üîπ Pr√©requis pour Laravel</h2>
    <p>Avant d‚Äôinstaller Laravel, tu dois pr√©parer ton environnement de d√©veloppement. Laravel repose sur PHP et utilise Composer pour g√©rer les d√©pendances. Voici ce dont tu as besoin :</p>
    <ul>
      <li><strong>PHP 8.1 ou sup√©rieur</strong> : Laravel 10.x n√©cessite une version r√©cente de PHP. V√©rifie avec <code>php -v</code>.</li>
      <li><strong>Composer</strong> : Gestionnaire de d√©pendances PHP. T√©l√©charge-le sur <a href="https://getcomposer.org">getcomposer.org</a> et v√©rifie avec <code>composer --version</code>.</li>
      <li><strong>SGBD</strong> : MySQL, PostgreSQL, ou SQLite pour la base de donn√©es. MySQL est recommand√© pour ce cours.</li>
      <li><strong>Serveur local</strong> : Utilise XAMPP, WAMP, ou le serveur int√©gr√© de Laravel (<code>php artisan serve</code>).</li>
      <li><strong>√âditeur de code</strong> : VS Code, PhpStorm, ou tout autre √©diteur pour modifier les fichiers PHP.</li>
    </ul>
    <p><strong>Exemple</strong> : Sur Windows, installe XAMPP pour PHP et MySQL, puis ajoute Composer via son installateur. Sur Linux, utilise <code>sudo apt install php composer</code>.</p>

    <h2>üîπ Installer Laravel</h2>
    <p>Laravel s‚Äôinstalle via Composer, qui t√©l√©charge le framework et ses d√©pendances. Voici les √©tapes pour cr√©er un projet :</p>
    <ol>
      <li>Ouvre un terminal dans le dossier o√π tu veux cr√©er ton projet.</li>
      <li>Ex√©cute la commande suivante pour cr√©er un projet nomm√© "blog" :</li>
      <pre><code>
composer create-project laravel/laravel blog
      </code></pre>
      <li>Acc√®de au dossier du projet :</li>
      <pre><code>
cd blog
      </code></pre>
      <li>Lance le serveur local :</li>
      <pre><code>
php artisan serve
      </code></pre>
    </ol>
    <p><strong>R√©sultat</strong> : Le serveur d√©marre √† <code>http://localhost:8000</code>. Ouvre cette URL dans ton navigateur pour voir la page d‚Äôaccueil par d√©faut de Laravel.</p>
    <p><strong>Exemple alternatif</strong> : Si le port 8000 est occup√©, utilise un autre port :</p>
    <pre><code>
php artisan serve --port=8001
    </code></pre>
    <p><strong>R√©sultat</strong> : Le serveur est accessible √† <code>http://localhost:8001</code>.</p>

    <h2>üîπ Configurer la base de donn√©es</h2>
    <p>Laravel utilise un fichier <code>.env</code> pour configurer la connexion √† la base de donn√©es. Ouvre <code>.env</code> dans ton projet et modifie les lignes suivantes :</p>
    <pre><code>
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=blog
DB_USERNAME=root
DB_PASSWORD=
    </code></pre>
    <p><strong>Explications</strong> :</p>
    <ul>
      <li><code>DB_DATABASE</code> : Nom de la base de donn√©es. Cr√©e-la d‚Äôabord dans MySQL (par exemple, via phpMyAdmin ou <code>CREATE DATABASE blog;</code>).</li>
      <li><code>DB_USERNAME</code> et <code>DB_PASSWORD</code> : Identifiants de ton SGBD. Par d√©faut, XAMPP utilise "root" sans mot de passe.</li>
      <li><code>DB_HOST</code> et <code>DB_PORT</code> : Laisse les valeurs par d√©faut sauf si ton serveur MySQL est configur√© diff√©remment.</li>
    </ul>
    <p><strong>Exemple</strong> : Si tu utilises SQLite, modifie <code>.env</code> ainsi :</p>
    <pre><code>
DB_CONNECTION=sqlite
# Supprime les autres lignes DB_*
    </code></pre>
    <p>Cr√©e un fichier <code>database/database.sqlite</code> vide, et Laravel le configurera automatiquement.</p>

    <h2>üîπ V√©rifier l‚Äôinstallation</h2>
    <p>Pour confirmer que tout fonctionne :</p>
    <ol>
      <li>Assure-toi que le serveur est en cours d‚Äôex√©cution (<code>php artisan serve</code>).</li>
      <li>Ouvre <code>http://localhost:8000</code> dans ton navigateur. Tu devrais voir une page avec le logo Laravel.</li>
      <li>Teste la connexion √† la base de donn√©es en ex√©cutant :</li>
      <pre><code>
php artisan migrate
      </code></pre>
    </ol>
    <p><strong>R√©sultat</strong> : Si aucune erreur n‚Äôappara√Æt, la migration cr√©e des tables par d√©faut (comme <code>users</code>) dans ta base de donn√©es.</p>

    <h2>üîπ Erreurs courantes √† √©viter</h2>
    <ul>
      <li><strong>"Composer not found"</strong> : Installe Composer globalement (<code>sudo apt install composer</code> ou via l‚Äôinstallateur Windows).</li>
      <li><strong>"Database connection failed"</strong> : V√©rifie que la base de donn√©es existe et que les identifiants dans <code>.env</code> sont corrects.</li>
      <li><strong>"Permission denied"</strong> : Sur Linux/Mac, donne les permissions au dossier avec <code>chmod -R 775 storage</code> et <code>chown -R www-data:www-data storage</code>.</li>
      <li><strong>"Port occup√©"</strong> : Utilise <code>php artisan serve --port=8001</code>.</li>
    </ul>

    <h2>üìù Exercice</h2>
    <p>1. Installe Laravel dans un dossier nomm√© "mon-site" en utilisant <code>composer create-project</code>.<br>
    2. Configure une base de donn√©es MySQL nomm√©e "mon_site" et mets √† jour <code>.env</code> avec les bons identifiants.<br>
    3. Lance le serveur avec <code>php artisan serve</code> et v√©rifie que la page d‚Äôaccueil s‚Äôaffiche.<br>
    4. Ex√©cute <code>php artisan migrate</code> et v√©rifie dans phpMyAdmin (ou un autre outil) que les tables ont √©t√© cr√©√©es.<br>
    5. (Bonus) Essaie de lancer le serveur sur un autre port (par exemple, 8002) et acc√®de √† la page.</p>

    <a href="laravel3.html" class="btn">‚û°Ô∏è Chapitre 3 : Les routes</a>
  </main>

  <footer>
    <p><a href="../index.html">‚Üê Retour au menu Laravel</a></p>
  </footer>
</body>
</html>